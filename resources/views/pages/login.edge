<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Connexion</title>

    <link rel="preconnect" href="https://fonts.bunny.net" />
    <link
      href="https://fonts.bunny.net/css?family=instrument-sans:400,500,600,700"
      rel="stylesheet"
    />

    <style>
      :root {
        --sand-1: #fdfdfc;
        --sand-2: #f9f9f8;
        --sand-3: #f1f0ef;
        --sand-4: #e9e8e6;
        --sand-5: #e2e1de;
        --sand-6: #dad9d6;
        --sand-7: #cfceca;
        --sand-8: #bcbbb5;
        --sand-9: #8d8d86;
        --sand-10: #82827c;
        --sand-11: #63635e;
        --sand-12: #21201c;
      }
    </style>

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              sans: ['Instrument Sans', 'sans-serif'],
            },
            colors: {
              primary: {
                DEFAULT: "#5A45FF",
                lighter: "#a599ff"
              },
              sand: {
                1: "var(--sand-1)",
                2: "var(--sand-2)",
                3: "var(--sand-3)",
                4: "var(--sand-4)",
                5: "var(--sand-5)",
                6: "var(--sand-6)",
                7: "var(--sand-7)",
                8: "var(--sand-8)",
                9: "var(--sand-9)",
                10: "var(--sand-10)",
                11: "var(--sand-11)",
                12: "var(--sand-12)"
              }
            }
          }
        }
      };
    </script>

    <script>
      // Init theme from localStorage
      if (
        localStorage.getItem('theme') === 'dark' ||
        (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)
      ) {
        document.documentElement.classList.add('dark');
      } else {
        document.documentElement.classList.remove('dark');
      }

      function toggleTheme() {
        const html = document.documentElement;
        html.classList.toggle('dark');
        localStorage.setItem('theme', html.classList.contains('dark') ? 'dark' : 'light');
      }
    </script>

    @vite(['resources/css/app.css', 'resources/js/app.js'])
    @stack('dumper')
  </head>

  <body class="bg-sand-2 dark:bg-gray-900 flex items-center justify-center min-h-screen font-sans">
    <div class="absolute top-4 right-4">
      <button onclick="toggleTheme()" class="bg-sand-3 dark:bg-gray-700 text-sand-12 dark:text-white rounded-full p-2 shadow hover:scale-105 transition">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 20 20" fill="currentColor">
          <path d="M10 2a1 1 0 011 1v1a1 1 0 01-2 0V3a1 1 0 011-1zM15.66 4.34a1 1 0 010 1.41l-.71.71a1 1 0 01-1.41-1.41l.71-.71a1 1 0 011.41 0zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM15.66 15.66a1 1 0 00-1.41 0l-.71.71a1 1 0 101.41 1.41l.71-.71a1 1 0 000-1.41zM10 18a1 1 0 01-1-1v-1a1 1 0 112 0v1a1 1 0 01-1 1zM4.34 15.66a1 1 0 00-1.41 1.41l.71.71a1 1 0 001.41-1.41l-.71-.71zM3 10a1 1 0 010-2H2a1 1 0 100 2h1zM4.34 4.34a1 1 0 011.41 0l.71.71a1 1 0 11-1.41 1.41l-.71-.71a1 1 0 010-1.41z" />
          <path d="M10 5a5 5 0 100 10A5 5 0 0010 5z" />
        </svg>
      </button>
    </div>

    <div class="bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg w-full max-w-md">
      <h1 class="text-2xl md:text-3xl font-bold text-center text-sand-12 dark:text-white mb-6">
        Connexion à QRLink
      </h1>

      <form action="/loginUser" method="POST" class="space-y-5">
        {{ csrfField() }}

        <div>
          <label for="email" class="block text-sm md:text-base font-medium text-sand-11 dark:text-sand-4 mb-1">
            Adresse e-mail
          </label>
          <input
            type="email"
            id="email"
            name="email"
            required
            class="block w-full px-4 py-2 border border-sand-6 dark:border-sand-8 rounded-md shadow-sm text-sm md:text-base bg-white dark:bg-sand-3 text-sand-12 dark:text-sand-12 focus:ring-2 focus:ring-primary"
          />
        </div>

        <div>
          <label for="password" class="block text-sm md:text-base font-medium text-sand-11 dark:text-sand-4 mb-1">
            Mot de passe
          </label>
          <input
            type="password"
            id="password"
            name="password"
            required
            class="block w-full px-4 py-2 border border-sand-6 dark:border-sand-8 rounded-md shadow-sm text-sm md:text-base bg-white dark:bg-sand-3 text-sand-12 dark:text-sand-12 focus:ring-2 focus:ring-primary"
          />
        </div>

        <div class="flex justify-end">
          <a href="/forgot" class="text-sm text-primary hover:underline">Mot de passe oublié ?</a>
        </div>

        <div>
          @!component('components/button', { text: 'Se connecter' })
        </div>
      </form>

      <p class="mt-6 text-center text-sm text-sand-10 dark:text-sand-6">
        Pas encore de compte ?
        <a href="/signin" class="text-primary hover:underline">Créer un compte</a>
      </p>
    </div>
  </body>
</html>
